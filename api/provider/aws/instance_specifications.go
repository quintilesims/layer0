package aws

import bytesize "github.com/zpatrick/go-bytesize"

type InstanceSpecification struct {
	CPU    int
	Memory bytesize.Bytesize
}

func NewInstanceSpecification(virtualCPUCores int, gibibytesMemory float64) InstanceSpecification {
	return InstanceSpecification{
		virtualCPUCores,
		bytesize.GiB * bytesize.Bytesize(gibibytesMemory),
	}
}

// https://aws.amazon.com/ec2/instance-types/
func instanceSpecifications() map[string]InstanceSpecification {
	return map[string]InstanceSpecification{
		"t2.nano":      NewInstanceSpecification(1, 0.5),
		"t2.micro":     NewInstanceSpecification(1, 1),
		"t2.small":     NewInstanceSpecification(1, 2),
		"t2.medium":    NewInstanceSpecification(2, 4),
		"t2.large":     NewInstanceSpecification(2, 8),
		"t2.xlarge":    NewInstanceSpecification(4, 16),
		"t2.2xlarge":   NewInstanceSpecification(8, 32),
		"m5.large":     NewInstanceSpecification(2, 8),
		"m5.xlarge":    NewInstanceSpecification(4, 16),
		"m5.2xlarge":   NewInstanceSpecification(8, 32),
		"m5.4xlarge":   NewInstanceSpecification(16, 64),
		"m5.12xlarge":  NewInstanceSpecification(48, 192),
		"m5.24xlarge":  NewInstanceSpecification(96, 384),
		"m4.large":     NewInstanceSpecification(2, 8),
		"m4.xlarge":    NewInstanceSpecification(4, 16),
		"m4.2xlarge":   NewInstanceSpecification(8, 32),
		"m4.4xlarge":   NewInstanceSpecification(16, 64),
		"m4.10xlarge":  NewInstanceSpecification(40, 160),
		"m4.16xlarge":  NewInstanceSpecification(64, 256),
		"m3.medium":    NewInstanceSpecification(1, 3.75),
		"m3.large":     NewInstanceSpecification(2, 7.5),
		"m3.xlarge":    NewInstanceSpecification(4, 15),
		"m3.2xlarge":   NewInstanceSpecification(8, 30),
		"c5.large":     NewInstanceSpecification(2, 4),
		"c5.xlarge":    NewInstanceSpecification(4, 8),
		"c5.2xlarge":   NewInstanceSpecification(8, 16),
		"c5.4xlarge":   NewInstanceSpecification(16, 32),
		"c5.9xlarge":   NewInstanceSpecification(36, 72),
		"c5.18xlarge":  NewInstanceSpecification(72, 144),
		"c4.large":     NewInstanceSpecification(2, 3.75),
		"c4.xlarge":    NewInstanceSpecification(4, 7.5),
		"c4.2xlarge":   NewInstanceSpecification(8, 15),
		"c4.4xlarge":   NewInstanceSpecification(16, 30),
		"c4.8xlarge":   NewInstanceSpecification(36, 60),
		"c3.large":     NewInstanceSpecification(2, 3.75),
		"c3.xlarge":    NewInstanceSpecification(4, 7.5),
		"c3.2xlarge":   NewInstanceSpecification(8, 15),
		"c3.4xlarge":   NewInstanceSpecification(16, 30),
		"c3.8xlarge":   NewInstanceSpecification(32, 60),
		"x1.16large":   NewInstanceSpecification(64, 976),
		"x1.32xlarge":  NewInstanceSpecification(128, 1952),
		"x1e.xlarge":   NewInstanceSpecification(4, 122),
		"x1e.2xlarge":  NewInstanceSpecification(8, 244),
		"x1e.4xlarge":  NewInstanceSpecification(16, 488),
		"x1e.8xlarge":  NewInstanceSpecification(32, 976),
		"x1e.16xlarge": NewInstanceSpecification(64, 1952),
		"x1e.32xlarge": NewInstanceSpecification(128, 3904),
		"r4.large":     NewInstanceSpecification(2, 15.25),
		"r4.xlarge":    NewInstanceSpecification(4, 30.5),
		"r4.2xlarge":   NewInstanceSpecification(8, 61),
		"r4.4xlarge":   NewInstanceSpecification(16, 122),
		"r4.8xlarge":   NewInstanceSpecification(32, 244),
		"r4.16xlarge":  NewInstanceSpecification(64, 488),
		"r3.large":     NewInstanceSpecification(2, 15.25),
		"r3.xlarge":    NewInstanceSpecification(4, 30.5),
		"r3.2xlarge":   NewInstanceSpecification(8, 61),
		"r3.4xlarge":   NewInstanceSpecification(16, 122),
		"r3.8xlarge":   NewInstanceSpecification(32, 244),
		"p3.2xlarge":   NewInstanceSpecification(8, 61),
		"p3.8xlarge":   NewInstanceSpecification(32, 244),
		"p3.16xlarge":  NewInstanceSpecification(64, 488),
		"p2.xlarge":    NewInstanceSpecification(4, 61),
		"p2.8xlarge":   NewInstanceSpecification(32, 488),
		"p2.16xlarge":  NewInstanceSpecification(64, 732),
		"g3.4xlarge":   NewInstanceSpecification(16, 122),
		"g3.8xlarge":   NewInstanceSpecification(32, 244),
		"g3.16xlarge":  NewInstanceSpecification(64, 488),
		"f1.2xlarge":   NewInstanceSpecification(8, 122),
		"f1.16xlarge":  NewInstanceSpecification(64, 976),
		"h1.2xlarge":   NewInstanceSpecification(8, 32),
		"h1.4xlarge":   NewInstanceSpecification(16, 64),
		"h1.8xlarge":   NewInstanceSpecification(32, 128),
		"h1.16xlarge":  NewInstanceSpecification(64, 256),
		"i3.large":     NewInstanceSpecification(2, 15.25),
		"i3.xlarge":    NewInstanceSpecification(4, 30.5),
		"i3.2xlarge":   NewInstanceSpecification(8, 61),
		"i3.4xlarge":   NewInstanceSpecification(16, 122),
		"i3.8xlarge":   NewInstanceSpecification(32, 244),
		"i3.16xlarge":  NewInstanceSpecification(64, 488),
		"i3.metal":     NewInstanceSpecification(0, 512),
		"d2.xlarge":    NewInstanceSpecification(4, 30.5),
		"d2.2xlarge":   NewInstanceSpecification(8, 61),
		"d2.4xlarge":   NewInstanceSpecification(16, 122),
		"d2.8xlarge":   NewInstanceSpecification(36, 244),
	}
}
