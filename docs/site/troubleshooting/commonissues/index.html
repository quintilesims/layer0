<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Common Issues - Layer0</title>
      
      
      
        <link rel="canonical" href="https://github.com/quintilesims/layer0/troubleshooting/commonissues/">
      
      
        <meta name="author" content="xfra">
      
    
    <meta property="og:url" content="https://github.com/quintilesims/layer0/troubleshooting/commonissues/">
    <meta property="og:title" content="Layer0">
    <meta property="og:image" content="https://github.com/quintilesims/layer0/troubleshooting/commonissues//../../static/logo_icon.png">
    <meta name="apple-mobile-web-app-title" content="Layer0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../../static/logo_icon.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-b64b728552.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-red palette-accent-grey">
    
      
      
        
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Troubleshooting <i class="icon icon-link"></i>
              
            
          </span>
        
        Common Issues
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/quintilesims/layer0/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../static/logo_icon.png">
        </div>
      
      <div class="name">
        <strong>Layer0 v0.8.4</strong>
        
          <br>
          quintilesims/layer0
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/quintilesims/layer0//archive/v0.8.4.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/quintilesims/layer0//stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="../..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Releases" href="../../releases/">
      Releases
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Introduction" href="../../intro/">
      Introduction
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Setup</span>
    <ul>
      
        
  <li>
    <a class="" title="Install" href="../../setup/install/">
      Install
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Upgrade" href="../../setup/update/">
      Upgrade
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Destroy" href="../../setup/destroy/">
      Destroy
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Guides</span>
    <ul>
      
        
  <li>
    <a class="" title="Guestbook" href="../../guides/guestbook/">
      Guestbook
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Guestbook with RDS" href="../../guides/guestbook_rds/">
      Guestbook with RDS
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Consul" href="../../guides/consul/">
      Consul
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Guestbook with Consul" href="../../guides/guestbook_consul/">
      Guestbook with Consul
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="One-off Task" href="../../guides/one_off_task/">
      One-off Task
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Reference</span>
    <ul>
      
        
  <li>
    <a class="" title="Layer0 CLI" href="../../reference/cli/">
      Layer0 CLI
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Layer0 Setup CLI" href="../../reference/setup-cli/">
      Layer0 Setup CLI
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Layer0 Terraform Plugin" href="../../reference/terraform-plugin/">
      Layer0 Terraform Plugin
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Updating a Service" href="../../reference/updateservice/">
      Updating a Service
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Consul" href="../../reference/consul/">
      Consul
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Task Definitions" href="../../reference/task_definition/">
      Task Definitions
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Architecture" href="../../reference/architecture/">
      Architecture
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="ECR" href="../../reference/ecr/">
      ECR
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Troubleshooting</span>
    <ul>
      
        
  <li>
    <a class="current" title="Common Issues" href="./">
      Common Issues
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title=""Connection refused" error when executing Layer0 commands" href="#connection-refused-error-when-executing-layer0-commands">
                "Connection refused" error when executing Layer0 commands
              </a>
            </li>
          
            <li class="anchor">
              <a title=""Invalid Dockerrun.aws.json" error when creating a deploy" href="#invalid-dockerrunawsjson-error-when-creating-a-deploy">
                "Invalid Dockerrun.aws.json" error when creating a deploy
              </a>
            </li>
          
            <li class="anchor">
              <a title=""AWS Error: the key pair '' does not exist (code 'ValidationError')" with l0-setup" href="#aws-error-the-key-pair-does-not-exist-code-validationerror-with-l0-setup">
                "AWS Error: the key pair '' does not exist (code 'ValidationError')" with l0-setup
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Secure Shell (SSH)" href="../ssh/">
      Secure Shell (SSH)
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="common-issues-and-their-solutions">Common issues and their solutions<a class="headerlink" href="#common-issues-and-their-solutions" title="Permanent link">#</a></h1>
<h2 id="connection-refused-error-when-executing-layer0-commands">"Connection refused" error when executing Layer0 commands<a class="headerlink" href="#connection-refused-error-when-executing-layer0-commands" title="Permanent link">#</a></h2>
<p>When executing commands using the Layer0 CLI, you may see the following error message: "Get http://localhost:9090/<em>command</em>/: dial tcp 127.0.0.1:9090: connection refused", where <em>command</em> is the Layer0 command you are trying to execute.</p>
<p>This error indicates that your Layer0 environment variables have not been set for the current session. See the <a href="http://localhost:8000/setup/install/#part-4-configure-environment-variables">"Configure environment variables" section</a> of the Layer0 installation guide for instructions for setting up your environment variables.</p>
<hr />
<h2 id="invalid-dockerrunawsjson-error-when-creating-a-deploy">"Invalid Dockerrun.aws.json" error when creating a deploy<a class="headerlink" href="#invalid-dockerrunawsjson-error-when-creating-a-deploy" title="Permanent link">#</a></h2>
<h3 id="byte-order-marks-bom-in-dockerrun-file">Byte Order Marks (BOM) in Dockerrun file<a class="headerlink" href="#byte-order-marks-bom-in-dockerrun-file" title="Permanent link">#</a></h3>
<p>If your Dockerrun.aws.json file contains a Byte Order Marker, you may receive an "Invalid Dockerrun.aws.json" error when creating a deploy. If you create or edit the Dockerrun file using Visual Studio, and you have not modified the file encoding settings in Visual Studio, you are likely to encounter this error.</p>
<p><strong>To remove the BOM:</strong></p>
<ul>
<li>
<p>At the command line, type the following to remove the BOM:</p>
<ul>
<li>(Linux/OS X) <strong>tail -c +4</strong> <em>DockerrunFile</em> <strong>&gt;</strong> <em>DockerrunFileNew</em>
<br /><br />Replace <em>DockerrunFile</em> with the path to your Dockerrun file, and <em>DockerrunFileNew</em> with a new name for the Dockerrun file without the BOM.</li>
</ul>
</li>
</ul>
<p>Alternatively, you can use the <a href="https://sourceforge.net/projects/dos2unix/">dos2unix file converter</a> to remove the BOM from your Dockerrun files. Dos2unix is available for Windows, Linux and Mac OS.</p>
<p><strong>To remove the BOM using dos2unix:</strong></p>
<ul>
<li>
<p>At the command line, type the following:</p>
<ul>
<li><strong>dos2unix --remove-bom -n</strong> <em>DockerrunFile</em> <em>DockerrunFileNew</em>
<br /><br />Replace <em>DockerrunFile</em> with the path to your Dockerrun file, and <em>DockerrunFileNew</em> with a new name for the Dockerrun file without the BOM.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="aws-error-the-key-pair-does-not-exist-code-validationerror-with-l0-setup">"AWS Error: the key pair '<keyvalue>' does not exist (code 'ValidationError')" with l0-setup<a class="headerlink" href="#aws-error-the-key-pair-does-not-exist-code-validationerror-with-l0-setup" title="Permanent link">#</a></h2>
<p>This occurs when you pass a non-existent EC2 keypair to l0-setup. To fix this, follow the instructions for <a href="../../install/#part-2-create-an-access-key">creating an EC2 Key Pair</a>.</p>
<ol>
<li>After you've created a new EC2 Key Pair, run the following command:
<ul>
  <li class="command"><strong>l0-setup plan</strong> <em>prefix</em> <strong>-var key_pair</strong>=<em>keypair</em></li>
</ul></li>
</ol>
<!--
##"Back-end server is at capacity" (status code 503) error when executing Layer0 commands

The "server is at capacity" error indicates that the API server has run out of disk space. The fastest way to solve this issue is to rebuild your Layer0 API server.

**To rebuild the API server:**

1. At the command line, type the following command to force the API server to be recreated:
    * **l0-setup terraform** *Layer0Prefix* **taint aws_elastic_beanstalk.api**

2. At the command line, type the following command to re-create the API server:
    * **l0-setup apply** *Layer0Prefix*
-->
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../../reference/ecr/" title="ECR">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                ECR
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../ssh/" title="Secure Shell (SSH)">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Secure Shell (SSH)
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = 'quintilesims/layer0';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>