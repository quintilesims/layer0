<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Layer0 Setup CLI - Layer0</title>
      
      
      
        <link rel="canonical" href="https://github.com/quintilesims/layer0/reference/setup-cli/">
      
      
        <meta name="author" content="xfra">
      
    
    <meta property="og:url" content="https://github.com/quintilesims/layer0/reference/setup-cli/">
    <meta property="og:title" content="Layer0">
    <meta property="og:image" content="https://github.com/quintilesims/layer0/reference/setup-cli//../../static/logo_icon.png">
    <meta name="apple-mobile-web-app-title" content="Layer0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../../static/logo_icon.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-b64b728552.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-red palette-accent-grey">
    
      
      
        
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Reference <i class="icon icon-link"></i>
              
            
          </span>
        
        Layer0 Setup CLI
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/quintilesims/layer0/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../static/logo_icon.png">
        </div>
      
      <div class="name">
        <strong>Layer0 v0.9.0</strong>
        
          <br>
          quintilesims/layer0
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="../../#download" title="Download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/quintilesims/layer0//stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="../..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Releases" href="../../releases/">
      Releases
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Introduction" href="../../intro/">
      Introduction
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Setup</span>
    <ul>
      
        
  <li>
    <a class="" title="Install" href="../../setup/install/">
      Install
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Upgrade" href="../../setup/upgrade/">
      Upgrade
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Destroy" href="../../setup/destroy/">
      Destroy
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Guides</span>
    <ul>
      
        
  <li>
    <a class="" title="Walkthrough: Introduction" href="../../guides/walkthrough/intro/">
      Walkthrough: Introduction
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Walkthrough: Deployment 1" href="../../guides/walkthrough/deployment-1/">
      Walkthrough: Deployment 1
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Walkthrough: Deployment 2" href="../../guides/walkthrough/deployment-2/">
      Walkthrough: Deployment 2
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Walkthrough: Deployment 3" href="../../guides/walkthrough/deployment-3/">
      Walkthrough: Deployment 3
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Terraform beyond Layer0" href="../../guides/terraform_beyond_layer0/">
      Terraform beyond Layer0
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="One-off Task" href="../../guides/one_off_task/">
      One-off Task
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Reference</span>
    <ul>
      
        
  <li>
    <a class="" title="Layer0 CLI" href="../cli/">
      Layer0 CLI
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Layer0 Setup CLI" href="./">
      Layer0 Setup CLI
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="General Usage" href="#general-usage">
                General Usage
              </a>
            </li>
          
            <li class="anchor">
              <a title="Init" href="#init">
                Init
              </a>
            </li>
          
            <li class="anchor">
              <a title="Plan" href="#plan">
                Plan
              </a>
            </li>
          
            <li class="anchor">
              <a title="Apply" href="#apply">
                Apply
              </a>
            </li>
          
            <li class="anchor">
              <a title="List" href="#list">
                List
              </a>
            </li>
          
            <li class="anchor">
              <a title="Push" href="#push">
                Push
              </a>
            </li>
          
            <li class="anchor">
              <a title="Pull" href="#pull">
                Pull
              </a>
            </li>
          
            <li class="anchor">
              <a title="Endpoint" href="#endpoint">
                Endpoint
              </a>
            </li>
          
            <li class="anchor">
              <a title="Destroy" href="#destroy">
                Destroy
              </a>
            </li>
          
            <li class="anchor">
              <a title="Upgrade" href="#upgrade">
                Upgrade
              </a>
            </li>
          
            <li class="anchor">
              <a title="Set" href="#set">
                Set
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Layer0 Terraform Plugin" href="../terraform-plugin/">
      Layer0 Terraform Plugin
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Updating a Service" href="../updateservice/">
      Updating a Service
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Consul" href="../consul/">
      Consul
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Task Definitions" href="../task_definition/">
      Task Definitions
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Architecture" href="../architecture/">
      Architecture
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="ECR" href="../ecr/">
      ECR
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Troubleshooting</span>
    <ul>
      
        
  <li>
    <a class="" title="Common Issues" href="../../troubleshooting/commonissues/">
      Common Issues
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Secure Shell (SSH)" href="../../troubleshooting/ssh/">
      Secure Shell (SSH)
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="layer0-setup-reference">Layer0 Setup Reference<a class="headerlink" href="#layer0-setup-reference" title="Permanent link">#</a></h1>
<p>The Layer0 Setup application (commonly called <strong>l0-setup</strong>), is used to provision, update, and destroy Layer0 instances.</p>
<hr />
<h2 id="general-usage">General Usage<a class="headerlink" href="#general-usage" title="Permanent link">#</a></h2>
<p>You can use the <code>-h, --help</code> command to get generate information about the <code>l0-setup</code> tool:</p>
<hr />
<h2 id="init">Init<a class="headerlink" href="#init" title="Permanent link">#</a></h2>
<p>The <strong>init</strong> command is used to initialize or reconfigure a Layer0 instance. 
This command will prompt the user for inputs required to create/update a Layer0 instance. 
Each of the inputs can be specified through an optional flag.</p>
<h3 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup init [options] &lt;instance_name&gt; </code></pre>


<h3 id="options">Options<a class="headerlink" href="#options" title="Permanent link">#</a></h3>
<ul>
<li><code>--docker-path</code> - Path to docker config.json file. 
This is used to include private Docker Registry authentication for this Layer0 instance.</li>
<li><code>--module-source</code> - The source input variable is the path to the Terraform Layer0. 
By default, this points to the Layer0 github repository. 
Using values other than the default may result in undesired consequences.</li>
<li><code>--version</code> - The version input variable specifies the tag to use for the Layer0
Docker images: <code>quintilesims/l0-api</code> and <code>quintilesims/l0-runner</code>.</li>
<li><code>--aws-access-key</code> - The access_key input variable is used to provision the AWS resources
required for Layer0. 
This corresponds to the Access Key ID portion of an AWS Access Key.
It is recommended this key has the <code>AdministratorAccess</code> policy. </li>
<li><code>--aws-secret-key</code> The secret_key input variable is used to provision the AWS resources
required for Layer0. 
This corresponds to the Secret Access Key portion of an AWS Access Key.
It is recommended this key has the <code>AdministratorAccess</code> policy.</li>
<li>
<p><code>--aws-region</code> - The region input variable specifies which region to provision the
AWS resources required for Layer0. The following regions can be used:</p>
<ul>
<li>us-west-1</li>
<li>us-west-2</li>
<li>us-east-1</li>
<li>eu-west-1</li>
</ul>
</li>
<li>
<p><code>--aws-ssh-key-pair</code> - The ssh_key_pair input variable specifies the name of the
ssh key pair to include in EC2 instances provisioned by Layer0. 
This key pair must already exist in the AWS account. 
The names of existing key pairs can be found in the EC2 dashboard.</p>
</li>
</ul>
<hr />
<h2 id="plan">Plan<a class="headerlink" href="#plan" title="Permanent link">#</a></h2>
<p>The <strong>plan</strong> command is used to show the planned operation(s) to run during the next <code>apply</code> on a Layer0 instance without actually executing any actions</p>
<h3 id="usage_1">Usage<a class="headerlink" href="#usage_1" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup plan &lt;instance_name&gt; </code></pre>


<h3 id="options_1">Options<a class="headerlink" href="#options_1" title="Permanent link">#</a></h3>
<p>There are no options for this command</p>
<hr />
<h2 id="apply">Apply<a class="headerlink" href="#apply" title="Permanent link">#</a></h2>
<p>The <strong>apply</strong> command is used to create and update Layer0 instances.</p>
<h3 id="usage_2">Usage<a class="headerlink" href="#usage_2" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup apply [options] &lt;instance_name&gt; </code></pre>


<h3 id="options_2">Options<a class="headerlink" href="#options_2" title="Permanent link">#</a></h3>
<ul>
<li><code>--quick</code> - Skips verification checks that normally run after <code>terraform apply</code> has completed</li>
</ul>
<hr />
<h2 id="list">List<a class="headerlink" href="#list" title="Permanent link">#</a></h2>
<p>The <strong>list</strong> command is used to list local and remote Layer0 instances.</p>
<h3 id="usage_3">Usage<a class="headerlink" href="#usage_3" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup list [options]</code></pre>


<h3 id="options_3">Options<a class="headerlink" href="#options_3" title="Permanent link">#</a></h3>
<ul>
<li><code>-l, --local</code> - Show local Layer0 instances. This value is true by default.</li>
<li><code>-r, --remote</code> - Show remote Layer0 instances. This value is true by default. </li>
<li><code>--aws-access-key</code> - The Access Key ID portion of an AWS Access Key that has permissions to list S3 buckets. 
If not specified, the application will attempt to use any AWS credentials used by the AWS CLI. </li>
<li><code>--aws-secret-key</code> - The Secret Access Key portion of an AWS Access Key that has permissions to list S3 buckets. 
If not specified, the application will attempt to use any AWS credentials used by the AWS CLI. </li>
<li><code>--aws-region</code> - The region to list S3 buckets. The default value is <code>us-west-2</code>. </li>
</ul>
<hr />
<h2 id="push">Push<a class="headerlink" href="#push" title="Permanent link">#</a></h2>
<p>The <strong>push</strong> command is used to back up your Layer0 configuration files to an S3 bucket.</p>
<h3 id="usage_4">Usage<a class="headerlink" href="#usage_4" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup push [options] &lt;instance_name&gt; </code></pre>


<h3 id="options_4">Options<a class="headerlink" href="#options_4" title="Permanent link">#</a></h3>
<ul>
<li><code>--aws-access-key</code> - The Access Key ID portion of an AWS Access Key that has permissions to push to the Layer0 instances's S3 bucket. If not specified, the application will attempt to use any AWS credentials used by the AWS CLI. </li>
<li><code>--aws-secret-key</code> - The Secret Access Key portion of an AWS Access Key that has permissions to push to the Layer0 instances's S3 bucket. If not specified, the application will attempt to use any AWS credentials used by the AWS CLI. </li>
<li><code>--aws-region</code> - The region of the Layer0 instance. The default value is <code>us-west-2</code>. </li>
</ul>
<hr />
<h2 id="pull">Pull<a class="headerlink" href="#pull" title="Permanent link">#</a></h2>
<p>The <strong>pull</strong> command is used copy Layer0 configuration files from an S3 bucket.</p>
<h3 id="usage_5">Usage<a class="headerlink" href="#usage_5" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup pull [options] &lt;instance_name&gt; </code></pre>


<h3 id="options_5">Options<a class="headerlink" href="#options_5" title="Permanent link">#</a></h3>
<ul>
<li><code>--aws-access-key</code> - The Access Key ID portion of an AWS Access Key that has permissions to pull to the Layer0 instances's S3 bucket. If not specified, the application will attempt to use any AWS credentials used by the AWS CLI. </li>
<li><code>--aws-secret-key</code> - The Secret Access Key portion of an AWS Access Key that has permissions to pull to the Layer0 instances's S3 bucket. If not specified, the application will attempt to use any AWS credentials used by the AWS CLI. </li>
<li><code>--aws-region</code> - The region of the Layer0 instance. The default value is <code>us-west-2</code>. </li>
</ul>
<hr />
<h2 id="endpoint">Endpoint<a class="headerlink" href="#endpoint" title="Permanent link">#</a></h2>
<p>The <strong>endpoint</strong> command is used to show environment variables used to connect to a Layer0 instance</p>
<h3 id="usage_6">Usage<a class="headerlink" href="#usage_6" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup endpoint [options] &lt;instance_name&gt; </code></pre>


<h3 id="options_6">Options<a class="headerlink" href="#options_6" title="Permanent link">#</a></h3>
<ul>
<li><code>-i, --insecure</code> - Show environment variables that allow for insecure settings</li>
<li><code>-d, --dev</code> - Show environment variables that are required for local development</li>
<li><code>-s --syntax</code> - Choose the syntax to display environment variables 
(choices: <code>bash</code>, <code>cmd</code>, <code>powershell</code>) (default: <code>bash</code>)</li>
</ul>
<hr />
<h2 id="destroy">Destroy<a class="headerlink" href="#destroy" title="Permanent link">#</a></h2>
<p>The <strong>destroy</strong> command is used to destroy all resources associated with a Layer0 instance.</p>
<div class="admonition warning">
<p class="admonition-title">Caution</p>
<p>Destroying a Layer0 instance cannot be undone; if you created backups of your Layer0 configuration using the <strong>push</strong> command, those backups will also be deleted when you run the <strong>destroy</strong> command.</p>
</div>
<h3 id="usage_7">Usage<a class="headerlink" href="#usage_7" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup destroy [options] &lt;instance_name&gt; </code></pre>


<h3 id="options_7">Options<a class="headerlink" href="#options_7" title="Permanent link">#</a></h3>
<ul>
<li><code>--force</code> - Skips confirmation prompt</li>
</ul>
<hr />
<h2 id="upgrade">Upgrade<a class="headerlink" href="#upgrade" title="Permanent link">#</a></h2>
<p>The <strong>upgrade</strong> command is used to upgrade a Layer0 instance to a new version.
You will need to run an <strong>apply</strong> after this command has completed. </p>
<h3 id="usage_8">Usage<a class="headerlink" href="#usage_8" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup upgrade [options] &lt;instance_name&gt; &lt;version&gt;</code></pre>


<h3 id="options_8">Options<a class="headerlink" href="#options_8" title="Permanent link">#</a></h3>
<ul>
<li><code>--force</code> - Skips confirmation prompt</li>
</ul>
<hr />
<h2 id="set">Set<a class="headerlink" href="#set" title="Permanent link">#</a></h2>
<p>The <strong>set</strong> command is used set input variable(s) for a Layer0 instance's Terraform module.
This command can be used to shorthand the <strong>init</strong> and <strong>upgrade</strong> commands, 
and can also be used with custom Layer0 modules. 
You will need to run an <strong>apply</strong> after this command has completed. </p>
<h3 id="usage_9">Usage<a class="headerlink" href="#usage_9" title="Permanent link">#</a></h3>
<pre class="code"><code>$ l0-setup set [options] &lt;instance_name&gt;</code></pre>


<p><strong>Example Usage</strong></p>
<pre class="code"><code>$ l0-setup set --input username=admin --input password=pass123 mylayer0</code></pre>


<h3 id="options_9">Options<a class="headerlink" href="#options_9" title="Permanent link">#</a></h3>
<ul>
<li><code>--input</code> - Specify an input using <code>key=val</code> format</li>
</ul>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../cli/" title="Layer0 CLI">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Layer0 CLI
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../terraform-plugin/" title="Layer0 Terraform Plugin">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Layer0 Terraform Plugin
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = 'quintilesims/layer0';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>