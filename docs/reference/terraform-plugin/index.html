



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Layer0 Documentation">
      
      
        <link rel="canonical" href="https://github.com/quintilesims/layer0/reference/terraform-plugin/">
      
      
        <meta name="author" content="xfra">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.6">
    
    
      
        <title>Layer0 Terraform Plugin - Layer0</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#ef5350">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="grey">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#layer0-terraform-provider-reference" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://github.com/quintilesims/layer0/" title="Layer0" class="md-header-nav__button md-logo">
          
            <img src="../../static/logo_icon.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Layer0
              </span>
              <span class="md-header-nav__topic">
                Layer0 Terraform Plugin
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/quintilesims/layer0/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://github.com/quintilesims/layer0/" title="Layer0" class="md-nav__button md-logo">
      
        <img src="../../static/logo_icon.png" width="48" height="48">
      
    </a>
    Layer0
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/quintilesims/layer0/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/upgrade/" title="Upgrade" class="md-nav__link">
      Upgrade
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/destroy/" title="Destroy" class="md-nav__link">
      Destroy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/walkthrough/intro/" title="Walkthrough: Introduction" class="md-nav__link">
      Walkthrough: Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/walkthrough/deployment-1/" title="Walkthrough: Deployment 1" class="md-nav__link">
      Walkthrough: Deployment 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/walkthrough/deployment-2/" title="Walkthrough: Deployment 2" class="md-nav__link">
      Walkthrough: Deployment 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/one_off_task/" title="One-off Task" class="md-nav__link">
      One-off Task
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/" title="Layer0 CLI" class="md-nav__link">
      Layer0 CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup-cli/" title="Layer0 Setup CLI" class="md-nav__link">
      Layer0 Setup CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../terraform_introduction/" title="Terraform" class="md-nav__link">
      Terraform
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Layer0 Terraform Plugin
      </label>
    
    <a href="./" title="Layer0 Terraform Plugin" class="md-nav__link md-nav__link--active">
      Layer0 Terraform Plugin
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install" title="Install" class="md-nav__link">
    Install
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#provider" title="Provider" class="md-nav__link">
    Provider
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-data-source" title="API Data Source" class="md-nav__link">
    API Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_1" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-data-source" title="Deploy Data Source" class="md-nav__link">
    Deploy Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_2" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_1" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_1" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-data-source" title="Environment Data Source" class="md-nav__link">
    Environment Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_3" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_2" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_2" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancer-data-source" title="Load Balancer Data Source" class="md-nav__link">
    Load Balancer Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_4" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_3" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_3" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-data-source" title="Service Data Source" class="md-nav__link">
    Service Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_5" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_4" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_4" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-resource" title="Deploy Resource" class="md-nav__link">
    Deploy Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_6" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_5" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_5" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-resource" title="Environment Resource" class="md-nav__link">
    Environment Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_7" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_6" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_6" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancer-resource" title="Load Balancer Resource" class="md-nav__link">
    Load Balancer Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_8" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_7" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_7" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-resource" title="Service Resource" class="md-nav__link">
    Service Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_9" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_8" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_8" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" title="Best Practices" class="md-nav__link">
    Best Practices
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../updateservice/" title="Updating a Service" class="md-nav__link">
      Updating a Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../consul/" title="Consul" class="md-nav__link">
      Consul
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../task_definition/" title="Task Definitions" class="md-nav__link">
      Task Definitions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ecr/" title="ECR" class="md-nav__link">
      ECR
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../troubleshooting/commonissues/" title="Common Issues" class="md-nav__link">
      Common Issues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../troubleshooting/ssh/" title="Secure Shell (SSH)" class="md-nav__link">
      Secure Shell (SSH)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install" title="Install" class="md-nav__link">
    Install
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#provider" title="Provider" class="md-nav__link">
    Provider
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-data-source" title="API Data Source" class="md-nav__link">
    API Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_1" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-data-source" title="Deploy Data Source" class="md-nav__link">
    Deploy Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_2" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_1" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_1" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-data-source" title="Environment Data Source" class="md-nav__link">
    Environment Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_3" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_2" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_2" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancer-data-source" title="Load Balancer Data Source" class="md-nav__link">
    Load Balancer Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_4" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_3" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_3" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-data-source" title="Service Data Source" class="md-nav__link">
    Service Data Source
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_5" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_4" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_4" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-resource" title="Deploy Resource" class="md-nav__link">
    Deploy Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_6" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_5" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_5" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-resource" title="Environment Resource" class="md-nav__link">
    Environment Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_7" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_6" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_6" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancer-resource" title="Load Balancer Resource" class="md-nav__link">
    Load Balancer Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_8" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_7" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_7" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-resource" title="Service Resource" class="md-nav__link">
    Service Resource
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-usage_9" title="Example Usage" class="md-nav__link">
    Example Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-reference_8" title="Argument Reference" class="md-nav__link">
    Argument Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-reference_8" title="Attribute Reference" class="md-nav__link">
    Attribute Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" title="Best Practices" class="md-nav__link">
    Best Practices
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/quintilesims/layer0/blob/master/docs-src/docs/reference/terraform-plugin.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="layer0-terraform-provider-reference">Layer0 Terraform Provider Reference<a class="headerlink" href="#layer0-terraform-provider-reference" title="Permanent link">#</a></h1>
<p>Terraform is an open-source tool for provisioning and managing infrastructure.
If you are new to Terraform, we recommend checking out their <a href="https://www.terraform.io/intro/index.html">documentation</a>.</p>
<p>Layer0 has built a custom <a href="https://www.terraform.io/docs/providers/index.html">provider</a> for Layer0.
This provider allows users to create, manage, and update Layer0 entities using Terraform.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h2>
<ul>
<li><strong>Terraform v0.11+</strong> (<a href="https://www.terraform.io/downloads.html">download</a>), accessible in your system path.</li>
</ul>
<h2 id="install">Install<a class="headerlink" href="#install" title="Permanent link">#</a></h2>
<p>Download a Layer0 v0.8.4+ <a href="/releases">release</a>.
The Terraform plugin binary is located in the release zip file as <code>terraform-provider-layer0</code>.
Copy this <code>terraform-provider-layer0</code> binary into <code>$HOME/.terraform.d/plugins/</code> - and you're done!</p>
<p>For further information, see Terraform's documentation on installing a Terraform plugin <a href="https://www.terraform.io/docs/plugins/basics.html#installing-a-plugin">here</a>.</p>
<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">#</a></h2>
<ul>
<li>Checkout the <code>Terraform</code> section of the Guestbook walkthrough <a href="../guides/walkthrough/deployment-1/#deploy-with-terraform">here</a>.</li>
<li>We've added some tips and links to helpful resources in the <a href="#best-practices">Best Practices</a> section below.</li>
</ul>
<hr />
<h2 id="provider">Provider<a class="headerlink" href="#provider" title="Permanent link">#</a></h2>
<p>The Layer0 provider is used to interact with a Layer0 API.
The provider needs to be configured with the proper credentials before it can be used.</p>
<h3 id="example-usage">Example Usage<a class="headerlink" href="#example-usage" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Add &#39;endpoint&#39; and &#39;token&#39; variables
variable &quot;endpoint&quot; {}

variable &quot;token&quot; {}

# Configure the layer0 provider
provider &quot;layer0&quot; {
  endpoint        = &quot;<span class="cp">${</span><span class="n">var</span><span class="o">.</span><span class="n">endpoint</span><span class="cp">}</span>&quot;
  token           = &quot;<span class="cp">${</span><span class="n">var</span><span class="o">.</span><span class="n">token</span><span class="cp">}</span>&quot;
  skip_ssl_verify = true
}
</pre></div>


<h3 id="argument-reference">Argument Reference<a class="headerlink" href="#argument-reference" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>endpoint</code> and <code>token</code> variables for your layer0 api can be found using the <a href="setup-cli/#endpoint">l0-setup endpoint</a> command.</p>
</div>
<ul>
<li><code>endpoint</code> - (Required) The endpoint of the layer0 api</li>
<li><code>token</code> - (Required) The authentication token for the layer0 api</li>
<li><code>skip_ssl_verify</code> - (Optional) If true, ssl certificate mismatch warnings will be ignored</li>
</ul>
<hr />
<h2 id="api-data-source">API Data Source<a class="headerlink" href="#api-data-source" title="Permanent link">#</a></h2>
<p>The API data source is used to extract useful read-only variables from the Layer0 API.</p>
<h3 id="example-usage_1">Example Usage<a class="headerlink" href="#example-usage_1" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Configure the api data source
data &quot;layer0_api&quot; &quot;config&quot; {}

# Output the layer0 vpc id
output &quot;vpc id&quot; {
  val = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">layer0_api</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">vpc_id</span><span class="cp">}</span>&quot;
}
</pre></div>


<h3 id="attribute-reference">Attribute Reference<a class="headerlink" href="#attribute-reference" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>prefix</code> - The prefix of the layer0 instance</li>
<li><code>vpc_id</code> - The vpc id of the layer0 instance</li>
<li><code>public_subnets</code> - A list containing the 2 public subnet ids in the layer0 vpc</li>
<li><code>private_subnets</code> - A list containing the 2 private subnet ids in the layer0 vpc</li>
</ul>
<hr />
<h2 id="deploy-data-source">Deploy Data Source<a class="headerlink" href="#deploy-data-source" title="Permanent link">#</a></h2>
<p>The Deploy data source is used to extract Layer0 Deploy attributes.</p>
<h3 id="example-usage_2">Example Usage<a class="headerlink" href="#example-usage_2" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Configure the deploy data source
data &quot;layer0_deploy&quot; &quot;dpl&quot; {
  name    = &quot;my-deploy&quot;
  version = &quot;1&quot;
}

# Output the layer0 deploy id
output &quot;deploy_id&quot; {
  val = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">layer0_deploy</span><span class="o">.</span><span class="n">dpl</span><span class="o">.</span><span class="n">id</span><span class="cp">}</span>&quot;
}
</pre></div>


<h3 id="argument-reference_1">Argument Reference<a class="headerlink" href="#argument-reference_1" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (Required) The name of the deploy</li>
<li><code>version</code> - (Required) The version of the deploy</li>
</ul>
<h3 id="attribute-reference_1">Attribute Reference<a class="headerlink" href="#attribute-reference_1" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>name</code> - The name of the deploy</li>
<li><code>version</code> - The version of the deploy</li>
<li><code>id</code> - The id of the deploy</li>
</ul>
<hr />
<h2 id="environment-data-source">Environment Data Source<a class="headerlink" href="#environment-data-source" title="Permanent link">#</a></h2>
<p>The Environment data source is used to extract Layer0 Environment attributes.</p>
<h3 id="example-usage_3">Example Usage<a class="headerlink" href="#example-usage_3" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Configure the environment data source
data &quot;layer0_environment&quot; &quot;env&quot; {
  name = &quot;my-environment&quot;
}

# Output the layer0 environment id
output &quot;environment_id&quot; {
  val = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">layer0_environment</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">id</span><span class="cp">}</span>&quot;
}
</pre></div>


<h3 id="argument-reference_2">Argument Reference<a class="headerlink" href="#argument-reference_2" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (Required) The name of the environment</li>
</ul>
<h3 id="attribute-reference_2">Attribute Reference<a class="headerlink" href="#attribute-reference_2" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>id</code> - The id of the environment</li>
<li><code>name</code> - The name of the environment</li>
<li><code>size</code> - The size of the instances in the environment</li>
<li><code>min_count</code> - The current number instances in the environment</li>
<li><code>os</code> - The operating system used for the environment</li>
<li><code>ami</code> - The AMI ID used for the environment</li>
</ul>
<hr />
<h2 id="load-balancer-data-source">Load Balancer Data Source<a class="headerlink" href="#load-balancer-data-source" title="Permanent link">#</a></h2>
<p>The Load Balancer data source is used to extract Layer0 Load Balancer attributes.</p>
<h3 id="example-usage_4">Example Usage<a class="headerlink" href="#example-usage_4" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Configure the load balancer source
data &quot;layer0_load_balancer&quot; &quot;lb&quot; {
  name           = &quot;my-loadbalancer&quot;
  environment_id = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">layer0_environment</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">environment_id</span><span class="cp">}</span>&quot;
}

# Output the layer0 load balancer id
output &quot;load_balancer_id&quot; {
  val = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">layer0_load_balancer</span><span class="o">.</span><span class="n">lb</span><span class="o">.</span><span class="n">id</span><span class="cp">}</span>&quot;
}
</pre></div>


<h3 id="argument-reference_3">Argument Reference<a class="headerlink" href="#argument-reference_3" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (required) The name of the load balancer</li>
<li><code>environment_id</code> - (required) The id of the environment the load balancer exists in</li>
</ul>
<h3 id="attribute-reference_3">Attribute Reference<a class="headerlink" href="#attribute-reference_3" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>id</code> - The id of the load balancer</li>
<li><code>name</code> - The name of the load balancer</li>
<li><code>environment_id</code> - The id of the environment the load balancer exists in</li>
<li><code>environment_name</code> - The name of the environment the load balancer exists in</li>
<li><code>private</code> - Whether or not the load balancer is private</li>
<li><code>url</code> - The URL of the load balancer</li>
</ul>
<hr />
<h2 id="service-data-source">Service Data Source<a class="headerlink" href="#service-data-source" title="Permanent link">#</a></h2>
<p>The Service data source is used to extract Layer0 Service attributes.</p>
<h3 id="example-usage_5">Example Usage<a class="headerlink" href="#example-usage_5" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Configure the service data source
data &quot;layer0_service&quot; &quot;svc&quot; {
  name           = &quot;my-service&quot;
  environment_id = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">layer0_environment</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">environment_id</span><span class="cp">}</span>&quot;
}

# Output the layer0 service id
output &quot;service_id&quot; {
  val = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">layer0_service</span><span class="o">.</span><span class="n">svc</span><span class="o">.</span><span class="n">id</span><span class="cp">}</span>&quot;
}
</pre></div>


<h3 id="argument-reference_4">Argument Reference<a class="headerlink" href="#argument-reference_4" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (required) The name of the service</li>
<li><code>environment_id</code> - (required) The id of the environment the service exists in</li>
</ul>
<h3 id="attribute-reference_4">Attribute Reference<a class="headerlink" href="#attribute-reference_4" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>id</code> - The id of the service</li>
<li><code>name</code> - The name of the service</li>
<li><code>environment_id</code> - The id of the environment the service exists in</li>
<li><code>environment_name</code> - The name of the environment the service exists in</li>
<li><code>scale</code> - The current desired scale of the service</li>
</ul>
<hr />
<h2 id="deploy-resource">Deploy Resource<a class="headerlink" href="#deploy-resource" title="Permanent link">#</a></h2>
<p>Provides a Layer0 Deploy.</p>
<p>Performing variable substitution inside of your deploy's json file (typically named <code>Dockerrun.aws.json</code>) can be done through Terraform's <a href="https://www.terraform.io/docs/providers/template/">template_file</a>.
For a working example, please see the sample <a href="https://github.com/quintilesims/guides/blob/master/guestbook/module/main.tf">Guestbook</a> application</p>
<h3 id="example-usage_6">Example Usage<a class="headerlink" href="#example-usage_6" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Configure the deploy template
data &quot;template_file&quot; &quot;guestbook&quot; {
  template = &quot;<span class="cp">${</span><span class="nb">file</span><span class="p">(</span><span class="s2">&quot;Dockerrun.aws.json&quot;</span><span class="p">)</span><span class="cp">}</span>&quot;
  vars {
    docker_image_tag = &quot;latest&quot;
  }
}

# Create a deploy using the rendered template
resource &quot;layer0_deploy&quot; &quot;guestbook&quot; {
  name    = &quot;guestbook&quot;
  content = &quot;<span class="cp">${</span><span class="n">data</span><span class="o">.</span><span class="n">template_file</span><span class="o">.</span><span class="n">guestbook</span><span class="o">.</span><span class="n">rendered</span><span class="cp">}</span>&quot;
}
</pre></div>


<h3 id="argument-reference_5">Argument Reference<a class="headerlink" href="#argument-reference_5" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (Required) The name of the deploy</li>
<li><code>content</code> - (Required) The content of the deploy</li>
</ul>
<h3 id="attribute-reference_5">Attribute Reference<a class="headerlink" href="#attribute-reference_5" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>id</code> - The id of the deploy</li>
<li><code>name</code> - The name of the deploy</li>
<li><code>version</code> - The version number of the deploy</li>
</ul>
<hr />
<h2 id="environment-resource">Environment Resource<a class="headerlink" href="#environment-resource" title="Permanent link">#</a></h2>
<p>Provides a Layer0 Environment</p>
<h3 id="example-usage_7">Example Usage<a class="headerlink" href="#example-usage_7" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Create a new environment
resource &quot;layer0_environment&quot; &quot;demo&quot; {
  name      = &quot;demo&quot;
  size      = &quot;m3.medium&quot;
  min_count = 0
  user_data = &quot;echo hello, world&quot;
  os        = &quot;linux&quot;
  ami       = &quot;ami123&quot;
}
</pre></div>


<h3 id="argument-reference_6">Argument Reference<a class="headerlink" href="#argument-reference_6" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (Required) The name of the environment</li>
<li><code>size</code> - (Optional, Default: "m3.medium") The size of the instances in the environment.
Available instance sizes can be found <a href="https://aws.amazon.com/ec2/instance-types/">here</a></li>
<li><code>min_count</code> - (Optional, Default: 0) The minimum number of instances allowed in the environment</li>
<li><code>user-data</code> - (Optional) The user data template to use for the environment's autoscaling group.
See the <a href="/reference/cli/#environment">cli reference</a> for the default template.</li>
<li><code>os</code> - (Optional, Default: "linux") Specifies the type of operating system used in the environment.
Options are "linux" or "windows".</li>
<li><code>ami</code> - (Optional) A custom AMI ID to use in the environment. 
If not specified, Layer0 will use its default AMI ID for the specified operating system.</li>
</ul>
<h3 id="attribute-reference_6">Attribute Reference<a class="headerlink" href="#attribute-reference_6" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>id</code> - The id of the environment</li>
<li><code>name</code> - The name of the environment</li>
<li><code>size</code> - The size of the instances in the environment</li>
<li><code>cluster_count</code> - The current number instances in the environment</li>
<li><code>security_group_id</code> - The ID of the environment's security group</li>
<li><code>os</code> - The operating system used for the environment</li>
<li><code>ami</code> - The AMI ID used for the environment</li>
</ul>
<hr />
<h2 id="load-balancer-resource">Load Balancer Resource<a class="headerlink" href="#load-balancer-resource" title="Permanent link">#</a></h2>
<p>Provides a Layer0 Load Balancer</p>
<h3 id="example-usage_8">Example Usage<a class="headerlink" href="#example-usage_8" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Create a new load balancer
resource &quot;layer0_load_balancer&quot; &quot;guestbook&quot; {
  name        = &quot;guestbook&quot;
  environment = &quot;demo123&quot;
  private     = false

  port {
    host_port      = 80
    container_port = 80
    protocol       = &quot;http&quot;
  }

  port {
    host_port      = 443
    container_port = 443
    protocol       = &quot;https&quot;
    certificate    = &quot;cert&quot;
  }

  health_check {
    target              = &quot;tcp:80&quot;
    interval            = 30
    timeout             = 5
    healthy_threshold   = 2
    unhealthy_threshold = 2
  }

  idle_timeout = 300
}
</pre></div>


<h3 id="argument-reference_7">Argument Reference<a class="headerlink" href="#argument-reference_7" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (Required) The name of the load balancer</li>
<li><code>environment</code> - (Required) The id of the environment to place the load balancer inside of</li>
<li><code>private</code> - (Optional) If true, the load balancer will not be exposed to the public internet</li>
<li><code>port</code> - (Optional, Default: 80:80/tcp) A list of port blocks. Ports documented below</li>
<li><code>health_check</code> - (Optional, Default: <code>{"TCP:80" 30 5 2 2}</code>) A health_check block. Health check documented below</li>
<li><code>idle_timeout</code> - (Optiona, Default: 60) The idle timeout of the load balancer in seconds</li>
</ul>
<p>Ports (<code>port</code>) support the following:</p>
<ul>
<li><code>host_port</code> - (Required) The port on the load balancer to listen on</li>
<li><code>container_port</code> - (Required) The port on the docker container to route to</li>
<li><code>protocol</code> - (Required) The protocol to listen on. Valid values are <code>HTTP, HTTPS, TCP, or SSL</code></li>
<li><code>certificate</code> - (Optional) The name of an SSL certificate. Only required if the <code>HTTP</code> or <code>SSL</code> protocol is used.</li>
</ul>
<p>Healthcheck (<code>health_check</code>) supports the following:</p>
<ul>
<li><code>target</code> - (Required) The target of the check. Valid pattern is <code>PROTOCOL:PORT/PATH</code>, where <code>PROTOCOL</code> values are:<ul>
<li><code>HTTP</code>, <code>HTTPS</code> - <code>PORT</code> and <code>PATH</code> are required</li>
<li><code>TCP</code>, <code>SSL</code> - <code>PORT</code> is required, <code>PATH</code> is not supported</li>
</ul>
</li>
<li><code>interval</code> - (Required) The interval between checks.</li>
<li><code>timeout</code> - (Required) The length of time before the check times out.</li>
<li><code>healthy_threshold</code> - (Required) The number of checks before the instance is declared healthy.</li>
<li><code>unhealthy_threshold</code> - (Required) The number of checks before the instance is declared unhealthy.</li>
</ul>
<p>The Idle Timeout (<code>idle_timeout</code>) is managed by the load balancer and is triggered when no data is sent over a connection for the specified time period. If no data has been sent or received by the time that the idle timeout period elapses, the load balancer closes the connection. See the following documentation for more information: <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/application-load-balancers.html#connection-idle-timeout">https://docs.aws.amazon.com/elasticloadbalancing/latest/application/application-load-balancers.html#connection-idle-timeout</a></p>
<h3 id="attribute-reference_7">Attribute Reference<a class="headerlink" href="#attribute-reference_7" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>id</code> - The id of the load balancer</li>
<li><code>name</code> - The name of the load balancer</li>
<li><code>environment</code> - The id of the environment the load balancer exists in</li>
<li><code>private</code> - Whether or not the load balancer is private</li>
<li><code>url</code> - The URL of the load balancer</li>
</ul>
<hr />
<h2 id="service-resource">Service Resource<a class="headerlink" href="#service-resource" title="Permanent link">#</a></h2>
<p>Provides a Layer0 Service</p>
<h3 id="example-usage_9">Example Usage<a class="headerlink" href="#example-usage_9" title="Permanent link">#</a></h3>
<div class="codehilite"><pre><span></span># Create a new service
resource &quot;layer0_service&quot; &quot;guestbook&quot; {
  name          = &quot;guestbook&quot;
  environment   = &quot;environment123&quot;
  deploy        = &quot;deploy123&quot;
  load_balancer = &quot;loadbalancer123&quot;
  scale         = 3
}
</pre></div>


<h3 id="argument-reference_8">Argument Reference<a class="headerlink" href="#argument-reference_8" title="Permanent link">#</a></h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (Required) The name of the service</li>
<li><code>environment</code> - (Required) The id of the environment to place the service inside of</li>
<li><code>deploy</code> - (Required) The id of the deploy for the service to run</li>
<li><code>load_balancer</code> (Optional) The id of the load balancer to place the service behind</li>
<li><code>scale</code> (Optional, Default: 1) The number of copies of the service to run</li>
</ul>
<h3 id="attribute-reference_8">Attribute Reference<a class="headerlink" href="#attribute-reference_8" title="Permanent link">#</a></h3>
<p>The following attributes are exported:</p>
<ul>
<li><code>id</code> - The id of the service</li>
<li><code>name</code> - The name of the service</li>
<li><code>environment</code> - The id of the environment the service exists in</li>
<li><code>deploy</code> - The id of the deploy the service is running</li>
<li><code>load_balancer</code> - The id of the load balancer the service is behind (if <code>load_balancer</code> was set)</li>
<li><code>scale</code> - The current desired scale of the service</li>
</ul>
<hr />
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">#</a></h2>
<ul>
<li>Always run <code>Terraform plan</code> before <code>terraform apply</code>.
This will show you what action(s) Terraform plans to make before actually executing them.</li>
<li>Use <a href="https://www.terraform.io/intro/getting-started/variables.html">variables</a> to reference secrets.
Secrets can be placed in a file named <code>terraform.tfvars</code>, or by setting <code>TF_VAR_*</code> environment variables.
More information can be found <a href="https://www.terraform.io/intro/getting-started/variables.html">here</a>.</li>
<li>Use Terraform's <code>remote</code> command to backup and sync your <code>terraform.tfstate</code> file across different members in your organization.
Terraform has documentation for using S3 as a backend <a href="https://www.terraform.io/docs/backends/types/s3.html">here</a>.</li>
<li>Terraform <a href="https://www.terraform.io/intro/getting-started/modules.html">modules</a> allow you to define and consume reusable components.</li>
<li>Example configurations can be found <a href="https://github.com/hashicorp/Terraform/tree/master/examples">here</a></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../terraform_introduction/" title="Terraform" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Terraform
              </span>
            </div>
          </a>
        
        
          <a href="../updateservice/" title="Updating a Service" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Updating a Service
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>